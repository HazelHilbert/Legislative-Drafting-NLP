{"version":3,"sources":["ImmutableMap.js"],"sourcesContent":["const emptyImmutableMap = createImmutableMap();\n/**\n * properly creates an ImmutableMap instance from an iterable\n */ function createImmutableMap(iterable) {\n    const internalMap = new Map(iterable);\n    return dangerouslyCreateImmutableMap(internalMap);\n}\n/**\n * Avoid using *dangerouslyCreateImmutableMap*, since this method will expose internally used set, use  createImmutableMap instead,\n * @param internalMap - a set that is used internally to store values.\n */ function dangerouslyCreateImmutableMap(internalMap) {\n    return {\n        size: internalMap.size,\n        set: (key, value)=>{\n            const nextSet = new Map(internalMap);\n            nextSet.set(key, value);\n            return dangerouslyCreateImmutableMap(nextSet);\n        },\n        get: (key)=>internalMap.get(key),\n        clear: ()=>emptyImmutableMap,\n        delete (value) {\n            const nextSet = new Map(internalMap);\n            nextSet.delete(value);\n            return dangerouslyCreateImmutableMap(nextSet);\n        },\n        has: (value)=>internalMap.has(value),\n        [Symbol.iterator]: ()=>internalMap[Symbol.iterator](),\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        dangerouslyGetInternalMap_unstable: ()=>internalMap\n    };\n}\nfunction isImmutableMap(value) {\n    return typeof value === 'object' && value !== null && 'dangerouslyGetInternalMap_unstable' in value;\n}\nexport const ImmutableMap = {\n    empty: emptyImmutableMap,\n    create: createImmutableMap,\n    isImmutableMap,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    dangerouslyCreate_unstable: dangerouslyCreateImmutableMap\n};\n"],"names":["ImmutableMap","emptyImmutableMap","createImmutableMap","iterable","internalMap","Map","dangerouslyCreateImmutableMap","size","set","key","value","nextSet","get","clear","delete","has","Symbol","iterator","dangerouslyGetInternalMap_unstable","isImmutableMap","empty","create","dangerouslyCreate_unstable"],"mappings":";;;;+BAkCaA;;;eAAAA;;;AAlCb,MAAMC,oBAAoBC;AAC1B;;CAEC,GAAG,SAASA,mBAAmBC,QAAQ;IACpC,MAAMC,cAAc,IAAIC,IAAIF;IAC5B,OAAOG,8BAA8BF;AACzC;AACA;;;CAGC,GAAG,SAASE,8BAA8BF,WAAW;IAClD,OAAO;QACHG,MAAMH,YAAYG,IAAI;QACtBC,KAAK,CAACC,KAAKC;YACP,MAAMC,UAAU,IAAIN,IAAID;YACxBO,QAAQH,GAAG,CAACC,KAAKC;YACjB,OAAOJ,8BAA8BK;QACzC;QACAC,KAAK,CAACH,MAAML,YAAYQ,GAAG,CAACH;QAC5BI,OAAO,IAAIZ;QACXa,QAAQJ,KAAK;YACT,MAAMC,UAAU,IAAIN,IAAID;YACxBO,QAAQG,MAAM,CAACJ;YACf,OAAOJ,8BAA8BK;QACzC;QACAI,KAAK,CAACL,QAAQN,YAAYW,GAAG,CAACL;QAC9B,CAACM,OAAOC,QAAQ,CAAC,EAAE,IAAIb,WAAW,CAACY,OAAOC,QAAQ,CAAC;QACnD,gEAAgE;QAChEC,oCAAoC,IAAId;IAC5C;AACJ;AACA,SAASe,eAAeT,KAAK;IACzB,OAAO,OAAOA,UAAU,YAAYA,UAAU,QAAQ,wCAAwCA;AAClG;AACO,MAAMV,eAAe;IACxBoB,OAAOnB;IACPoB,QAAQnB;IACRiB;IACA,gEAAgE;IAChEG,4BAA4BhB;AAChC"}