{"version":3,"sources":["useReducedMotion.js"],"sourcesContent":["import * as React from 'react';\nimport { canUseDOM, useIsomorphicLayoutEffect } from '@fluentui/react-utilities';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\n/**\n * @internal\n *\n * Returns whether the user has requested reduced motion based on the current media query.\n */ export const useReducedMotion = ()=>{\n    var _fluent_targetDocument;\n    const fluent = useFluent();\n    const reducedMotion = React.useRef(false);\n    const targetWindow = canUseDOM() && ((_fluent_targetDocument = fluent.targetDocument) === null || _fluent_targetDocument === void 0 ? void 0 : _fluent_targetDocument.defaultView);\n    const onMediaQueryChange = React.useCallback((e)=>{\n        reducedMotion.current = e.matches;\n    }, []);\n    useIsomorphicLayoutEffect(()=>{\n        if (!targetWindow || !targetWindow.matchMedia) {\n            return;\n        }\n        const match = targetWindow.matchMedia('screen and (prefers-reduced-motion: reduce)');\n        if (match.matches) {\n            reducedMotion.current = true;\n        }\n        match.addEventListener('change', onMediaQueryChange);\n        return ()=>match.removeEventListener('change', onMediaQueryChange);\n    }, [\n        onMediaQueryChange,\n        targetWindow\n    ]);\n    return reducedMotion.current;\n};\n"],"names":["useReducedMotion","_fluent_targetDocument","fluent","useFluent","reducedMotion","React","useRef","targetWindow","canUseDOM","targetDocument","defaultView","onMediaQueryChange","useCallback","e","current","matches","useIsomorphicLayoutEffect","matchMedia","match","addEventListener","removeEventListener"],"mappings":";;;;+BAOiBA;;;eAAAA;;;;iEAPM;gCAC8B;qCACL;AAKrC,MAAMA,mBAAmB;IAChC,IAAIC;IACJ,MAAMC,SAASC,IAAAA,uCAAS;IACxB,MAAMC,gBAAgBC,OAAMC,MAAM,CAAC;IACnC,MAAMC,eAAeC,IAAAA,yBAAS,OAAO,CAAA,AAACP,CAAAA,yBAAyBC,OAAOO,cAAc,AAAD,MAAO,QAAQR,2BAA2B,KAAK,IAAI,KAAK,IAAIA,uBAAuBS,WAAW,AAAD;IAChL,MAAMC,qBAAqBN,OAAMO,WAAW,CAAC,CAACC;QAC1CT,cAAcU,OAAO,GAAGD,EAAEE,OAAO;IACrC,GAAG,EAAE;IACLC,IAAAA,yCAAyB,EAAC;QACtB,IAAI,CAACT,gBAAgB,CAACA,aAAaU,UAAU,EAAE;YAC3C;QACJ;QACA,MAAMC,QAAQX,aAAaU,UAAU,CAAC;QACtC,IAAIC,MAAMH,OAAO,EAAE;YACfX,cAAcU,OAAO,GAAG;QAC5B;QACAI,MAAMC,gBAAgB,CAAC,UAAUR;QACjC,OAAO,IAAIO,MAAME,mBAAmB,CAAC,UAAUT;IACnD,GAAG;QACCA;QACAJ;KACH;IACD,OAAOH,cAAcU,OAAO;AAChC"}