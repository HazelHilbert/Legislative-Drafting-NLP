{"version":3,"sources":["useInput.js"],"sourcesContent":["import * as React from 'react';\nimport { useFieldControlProps_unstable } from '@fluentui/react-field';\nimport { getPartitionedNativeProps, useControllableState, useEventCallback, slot } from '@fluentui/react-utilities';\nimport { useOverrides_unstable as useOverrides } from '@fluentui/react-shared-contexts';\n/**\n * Create the state required to render Input.\n *\n * The returned state can be modified with hooks such as useInputStyles_unstable,\n * before being passed to renderInput_unstable.\n *\n * @param props - props from this instance of Input\n * @param ref - reference to `<input>` element of Input\n */ export const useInput_unstable = (props, ref)=>{\n    props = useFieldControlProps_unstable(props, {\n        supportsLabelFor: true,\n        supportsRequired: true,\n        supportsSize: true\n    });\n    const overrides = useOverrides();\n    var _overrides_inputDefaultAppearance;\n    const { size = 'medium', appearance = (_overrides_inputDefaultAppearance = overrides.inputDefaultAppearance) !== null && _overrides_inputDefaultAppearance !== void 0 ? _overrides_inputDefaultAppearance : 'outline', onChange } = props;\n    if (process.env.NODE_ENV !== 'production' && (appearance === 'filled-darker-shadow' || appearance === 'filled-lighter-shadow')) {\n        // eslint-disable-next-line no-console\n        console.error(\"The 'filled-darker-shadow' and 'filled-lighter-shadow' appearances are deprecated and will be removed in the\" + ' future.');\n    }\n    const [value, setValue] = useControllableState({\n        state: props.value,\n        defaultState: props.defaultValue,\n        initialState: ''\n    });\n    const nativeProps = getPartitionedNativeProps({\n        props,\n        primarySlotTagName: 'input',\n        excludedPropNames: [\n            'size',\n            'onChange',\n            'value',\n            'defaultValue'\n        ]\n    });\n    const state = {\n        size,\n        appearance,\n        components: {\n            root: 'span',\n            input: 'input',\n            contentBefore: 'span',\n            contentAfter: 'span'\n        },\n        input: slot.always(props.input, {\n            defaultProps: {\n                type: 'text',\n                ref,\n                ...nativeProps.primary\n            },\n            elementType: 'input'\n        }),\n        contentAfter: slot.optional(props.contentAfter, {\n            elementType: 'span'\n        }),\n        contentBefore: slot.optional(props.contentBefore, {\n            elementType: 'span'\n        }),\n        root: slot.always(props.root, {\n            defaultProps: nativeProps.root,\n            elementType: 'span'\n        })\n    };\n    state.input.value = value;\n    state.input.onChange = useEventCallback((ev)=>{\n        const newValue = ev.target.value;\n        onChange === null || onChange === void 0 ? void 0 : onChange(ev, {\n            value: newValue\n        });\n        setValue(newValue);\n    });\n    return state;\n};\n"],"names":["useInput_unstable","props","ref","useFieldControlProps_unstable","supportsLabelFor","supportsRequired","supportsSize","overrides","useOverrides","_overrides_inputDefaultAppearance","size","appearance","inputDefaultAppearance","onChange","process","env","NODE_ENV","console","error","value","setValue","useControllableState","state","defaultState","defaultValue","initialState","nativeProps","getPartitionedNativeProps","primarySlotTagName","excludedPropNames","components","root","input","contentBefore","contentAfter","slot","always","defaultProps","type","primary","elementType","optional","useEventCallback","ev","newValue","target"],"mappings":";;;;+BAYiBA;;;eAAAA;;;;iEAZM;4BACuB;gCAC0C;qCAClC;AAS3C,MAAMA,oBAAoB,CAACC,OAAOC;IACzCD,QAAQE,IAAAA,yCAA6B,EAACF,OAAO;QACzCG,kBAAkB;QAClBC,kBAAkB;QAClBC,cAAc;IAClB;IACA,MAAMC,YAAYC,IAAAA,0CAAY;IAC9B,IAAIC;IACJ,MAAM,EAAEC,OAAO,QAAQ,EAAEC,aAAa,AAACF,CAAAA,oCAAoCF,UAAUK,sBAAsB,AAAD,MAAO,QAAQH,sCAAsC,KAAK,IAAIA,oCAAoC,SAAS,EAAEI,QAAQ,EAAE,GAAGZ;IACpO,IAAIa,QAAQC,GAAG,CAACC,QAAQ,KAAK,gBAAiBL,CAAAA,eAAe,0BAA0BA,eAAe,uBAAsB,GAAI;QAC5H,sCAAsC;QACtCM,QAAQC,KAAK,CAAC,iHAAiH;IACnI;IACA,MAAM,CAACC,OAAOC,SAAS,GAAGC,IAAAA,oCAAoB,EAAC;QAC3CC,OAAOrB,MAAMkB,KAAK;QAClBI,cAActB,MAAMuB,YAAY;QAChCC,cAAc;IAClB;IACA,MAAMC,cAAcC,IAAAA,yCAAyB,EAAC;QAC1C1B;QACA2B,oBAAoB;QACpBC,mBAAmB;YACf;YACA;YACA;YACA;SACH;IACL;IACA,MAAMP,QAAQ;QACVZ;QACAC;QACAmB,YAAY;YACRC,MAAM;YACNC,OAAO;YACPC,eAAe;YACfC,cAAc;QAClB;QACAF,OAAOG,oBAAI,CAACC,MAAM,CAACnC,MAAM+B,KAAK,EAAE;YAC5BK,cAAc;gBACVC,MAAM;gBACNpC;gBACA,GAAGwB,YAAYa,OAAO;YAC1B;YACAC,aAAa;QACjB;QACAN,cAAcC,oBAAI,CAACM,QAAQ,CAACxC,MAAMiC,YAAY,EAAE;YAC5CM,aAAa;QACjB;QACAP,eAAeE,oBAAI,CAACM,QAAQ,CAACxC,MAAMgC,aAAa,EAAE;YAC9CO,aAAa;QACjB;QACAT,MAAMI,oBAAI,CAACC,MAAM,CAACnC,MAAM8B,IAAI,EAAE;YAC1BM,cAAcX,YAAYK,IAAI;YAC9BS,aAAa;QACjB;IACJ;IACAlB,MAAMU,KAAK,CAACb,KAAK,GAAGA;IACpBG,MAAMU,KAAK,CAACnB,QAAQ,GAAG6B,IAAAA,gCAAgB,EAAC,CAACC;QACrC,MAAMC,WAAWD,GAAGE,MAAM,CAAC1B,KAAK;QAChCN,aAAa,QAAQA,aAAa,KAAK,IAAI,KAAK,IAAIA,SAAS8B,IAAI;YAC7DxB,OAAOyB;QACX;QACAxB,SAASwB;IACb;IACA,OAAOtB;AACX"}