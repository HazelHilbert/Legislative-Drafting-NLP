{"version":3,"sources":["usePersona.js"],"sourcesContent":["import * as React from 'react';\nimport { Avatar } from '@fluentui/react-avatar';\nimport { getIntrinsicElementProps, slot } from '@fluentui/react-utilities';\nimport { PresenceBadge } from '@fluentui/react-badge';\n/**\n * Create the state required to render Persona.\n *\n * The returned state can be modified with hooks such as usePersonaStyles_unstable,\n * before being passed to renderPersona_unstable.\n *\n * @param props - props from this instance of Persona\n * @param ref - reference to root HTMLElement of Persona\n */ export const usePersona_unstable = (props, ref)=>{\n    const { name, presenceOnly = false, size = 'medium', textAlignment = 'start', textPosition = 'after' } = props;\n    const primaryText = slot.optional(props.primaryText, {\n        renderByDefault: true,\n        defaultProps: {\n            children: name\n        },\n        elementType: 'span'\n    });\n    const secondaryText = slot.optional(props.secondaryText, {\n        elementType: 'span'\n    });\n    const tertiaryText = slot.optional(props.tertiaryText, {\n        elementType: 'span'\n    });\n    const quaternaryText = slot.optional(props.quaternaryText, {\n        elementType: 'span'\n    });\n    const numTextLines = [\n        primaryText,\n        secondaryText,\n        tertiaryText,\n        quaternaryText\n    ].filter(Boolean).length;\n    return {\n        numTextLines,\n        presenceOnly,\n        size,\n        textAlignment,\n        textPosition,\n        components: {\n            root: 'div',\n            avatar: Avatar,\n            presence: PresenceBadge,\n            primaryText: 'span',\n            secondaryText: 'span',\n            tertiaryText: 'span',\n            quaternaryText: 'span'\n        },\n        root: slot.always(getIntrinsicElementProps('div', {\n            ...props,\n            // FIXME:\n            // `ref` is wrongly assigned to be `HTMLElement` instead of `HTMLDivElement`\n            // but since it would be a breaking change to fix it, we are casting ref to it's proper type\n            ref: ref\n        }, /* excludedPropNames */ [\n            'name'\n        ]), {\n            elementType: 'div'\n        }),\n        avatar: !presenceOnly ? slot.optional(props.avatar, {\n            renderByDefault: true,\n            defaultProps: {\n                name,\n                badge: props.presence,\n                size: avatarSizes[size]\n            },\n            elementType: Avatar\n        }) : undefined,\n        presence: presenceOnly ? slot.optional(props.presence, {\n            defaultProps: {\n                size: presenceSizes[size]\n            },\n            elementType: PresenceBadge\n        }) : undefined,\n        primaryText,\n        secondaryText,\n        tertiaryText,\n        quaternaryText\n    };\n};\nconst presenceSizes = {\n    'extra-small': 'tiny',\n    small: 'extra-small',\n    medium: 'small',\n    large: 'medium',\n    'extra-large': 'large',\n    huge: 'large'\n};\nconst avatarSizes = {\n    'extra-small': 20,\n    small: 28,\n    medium: 32,\n    large: 36,\n    'extra-large': 40,\n    huge: 56\n};\n"],"names":["usePersona_unstable","props","ref","name","presenceOnly","size","textAlignment","textPosition","primaryText","slot","optional","renderByDefault","defaultProps","children","elementType","secondaryText","tertiaryText","quaternaryText","numTextLines","filter","Boolean","length","components","root","avatar","Avatar","presence","PresenceBadge","always","getIntrinsicElementProps","badge","avatarSizes","undefined","presenceSizes","small","medium","large","huge"],"mappings":";;;;+BAYiBA;;;eAAAA;;;;iEAZM;6BACA;gCACwB;4BACjB;AASnB,MAAMA,sBAAsB,CAACC,OAAOC;IAC3C,MAAM,EAAEC,IAAI,EAAEC,eAAe,KAAK,EAAEC,OAAO,QAAQ,EAAEC,gBAAgB,OAAO,EAAEC,eAAe,OAAO,EAAE,GAAGN;IACzG,MAAMO,cAAcC,oBAAI,CAACC,QAAQ,CAACT,MAAMO,WAAW,EAAE;QACjDG,iBAAiB;QACjBC,cAAc;YACVC,UAAUV;QACd;QACAW,aAAa;IACjB;IACA,MAAMC,gBAAgBN,oBAAI,CAACC,QAAQ,CAACT,MAAMc,aAAa,EAAE;QACrDD,aAAa;IACjB;IACA,MAAME,eAAeP,oBAAI,CAACC,QAAQ,CAACT,MAAMe,YAAY,EAAE;QACnDF,aAAa;IACjB;IACA,MAAMG,iBAAiBR,oBAAI,CAACC,QAAQ,CAACT,MAAMgB,cAAc,EAAE;QACvDH,aAAa;IACjB;IACA,MAAMI,eAAe;QACjBV;QACAO;QACAC;QACAC;KACH,CAACE,MAAM,CAACC,SAASC,MAAM;IACxB,OAAO;QACHH;QACAd;QACAC;QACAC;QACAC;QACAe,YAAY;YACRC,MAAM;YACNC,QAAQC,mBAAM;YACdC,UAAUC,yBAAa;YACvBnB,aAAa;YACbO,eAAe;YACfC,cAAc;YACdC,gBAAgB;QACpB;QACAM,MAAMd,oBAAI,CAACmB,MAAM,CAACC,IAAAA,wCAAwB,EAAC,OAAO;YAC9C,GAAG5B,KAAK;YACR,SAAS;YACT,4EAA4E;YAC5E,4FAA4F;YAC5FC,KAAKA;QACT,GAAG,qBAAqB,GAAG;YACvB;SACH,GAAG;YACAY,aAAa;QACjB;QACAU,QAAQ,CAACpB,eAAeK,oBAAI,CAACC,QAAQ,CAACT,MAAMuB,MAAM,EAAE;YAChDb,iBAAiB;YACjBC,cAAc;gBACVT;gBACA2B,OAAO7B,MAAMyB,QAAQ;gBACrBrB,MAAM0B,WAAW,CAAC1B,KAAK;YAC3B;YACAS,aAAaW,mBAAM;QACvB,KAAKO;QACLN,UAAUtB,eAAeK,oBAAI,CAACC,QAAQ,CAACT,MAAMyB,QAAQ,EAAE;YACnDd,cAAc;gBACVP,MAAM4B,aAAa,CAAC5B,KAAK;YAC7B;YACAS,aAAaa,yBAAa;QAC9B,KAAKK;QACLxB;QACAO;QACAC;QACAC;IACJ;AACJ;AACA,MAAMgB,gBAAgB;IAClB,eAAe;IACfC,OAAO;IACPC,QAAQ;IACRC,OAAO;IACP,eAAe;IACfC,MAAM;AACV;AACA,MAAMN,cAAc;IAChB,eAAe;IACfG,OAAO;IACPC,QAAQ;IACRC,OAAO;IACP,eAAe;IACfC,MAAM;AACV"}