{"version":3,"sources":["useTag.js"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, useEventCallback, useId, slot } from '@fluentui/react-utilities';\nimport { DismissRegular } from '@fluentui/react-icons';\nimport { Delete, Backspace } from '@fluentui/keyboard-keys';\nimport { useTagGroupContext_unstable } from '../../contexts/tagGroupContext';\nconst tagAvatarSizeMap = {\n    medium: 28,\n    small: 20,\n    'extra-small': 16\n};\nconst tagAvatarShapeMap = {\n    rounded: 'square',\n    circular: 'circular'\n};\n/**\n * Create the state required to render Tag.\n *\n * The returned state can be modified with hooks such as useTagStyles_unstable,\n * before being passed to renderTag_unstable.\n *\n * @param props - props from this instance of Tag\n * @param ref - reference to root HTMLSpanElement or HTMLButtonElement of Tag\n */ export const useTag_unstable = (props, ref)=>{\n    const { handleTagDismiss, size: contextSize } = useTagGroupContext_unstable();\n    const id = useId('fui-Tag', props.id);\n    const { appearance = 'filled', disabled = false, dismissible = false, shape = 'rounded', size = contextSize, value = id } = props;\n    const dismissOnClick = useEventCallback((ev)=>{\n        var _props_onClick;\n        (_props_onClick = props.onClick) === null || _props_onClick === void 0 ? void 0 : _props_onClick.call(props, ev);\n        if (!ev.defaultPrevented) {\n            handleTagDismiss === null || handleTagDismiss === void 0 ? void 0 : handleTagDismiss(ev, {\n                value\n            });\n        }\n    });\n    const dismissOnKeyDown = useEventCallback((ev)=>{\n        var _props_onKeyDown;\n        props === null || props === void 0 ? void 0 : (_props_onKeyDown = props.onKeyDown) === null || _props_onKeyDown === void 0 ? void 0 : _props_onKeyDown.call(props, ev);\n        if (!ev.defaultPrevented && (ev.key === Delete || ev.key === Backspace)) {\n            handleTagDismiss === null || handleTagDismiss === void 0 ? void 0 : handleTagDismiss(ev, {\n                value\n            });\n        }\n    });\n    const elementType = dismissible ? 'button' : 'span';\n    return {\n        appearance,\n        avatarShape: tagAvatarShapeMap[shape],\n        avatarSize: tagAvatarSizeMap[size],\n        disabled,\n        dismissible,\n        shape,\n        size,\n        components: {\n            root: elementType,\n            media: 'span',\n            icon: 'span',\n            primaryText: 'span',\n            secondaryText: 'span',\n            dismissIcon: 'span'\n        },\n        root: slot.always(getIntrinsicElementProps(elementType, {\n            ref,\n            ...props,\n            id,\n            ...dismissible && {\n                onClick: dismissOnClick,\n                onKeyDown: dismissOnKeyDown\n            }\n        }), {\n            elementType\n        }),\n        media: slot.optional(props.media, {\n            elementType: 'span'\n        }),\n        icon: slot.optional(props.icon, {\n            elementType: 'span'\n        }),\n        primaryText: slot.optional(props.primaryText, {\n            renderByDefault: true,\n            defaultProps: {\n                children: props.children\n            },\n            elementType: 'span'\n        }),\n        secondaryText: slot.optional(props.secondaryText, {\n            elementType: 'span'\n        }),\n        dismissIcon: slot.optional(props.dismissIcon, {\n            renderByDefault: dismissible,\n            defaultProps: {\n                children: /*#__PURE__*/ React.createElement(DismissRegular, null),\n                role: 'img'\n            },\n            elementType: 'span'\n        })\n    };\n};\n"],"names":["useTag_unstable","tagAvatarSizeMap","medium","small","tagAvatarShapeMap","rounded","circular","props","ref","handleTagDismiss","size","contextSize","useTagGroupContext_unstable","id","useId","appearance","disabled","dismissible","shape","value","dismissOnClick","useEventCallback","ev","_props_onClick","onClick","call","defaultPrevented","dismissOnKeyDown","_props_onKeyDown","onKeyDown","key","Delete","Backspace","elementType","avatarShape","avatarSize","components","root","media","icon","primaryText","secondaryText","dismissIcon","slot","always","getIntrinsicElementProps","optional","renderByDefault","defaultProps","children","React","createElement","DismissRegular","role"],"mappings":";;;;+BAsBiBA;;;eAAAA;;;;iEAtBM;gCACiD;4BACzC;8BACG;iCACU;AAC5C,MAAMC,mBAAmB;IACrBC,QAAQ;IACRC,OAAO;IACP,eAAe;AACnB;AACA,MAAMC,oBAAoB;IACtBC,SAAS;IACTC,UAAU;AACd;AASW,MAAMN,kBAAkB,CAACO,OAAOC;IACvC,MAAM,EAAEC,gBAAgB,EAAEC,MAAMC,WAAW,EAAE,GAAGC,IAAAA,4CAA2B;IAC3E,MAAMC,KAAKC,IAAAA,qBAAK,EAAC,WAAWP,MAAMM,EAAE;IACpC,MAAM,EAAEE,aAAa,QAAQ,EAAEC,WAAW,KAAK,EAAEC,cAAc,KAAK,EAAEC,QAAQ,SAAS,EAAER,OAAOC,WAAW,EAAEQ,QAAQN,EAAE,EAAE,GAAGN;IAC5H,MAAMa,iBAAiBC,IAAAA,gCAAgB,EAAC,CAACC;QACrC,IAAIC;QACHA,CAAAA,iBAAiBhB,MAAMiB,OAAO,AAAD,MAAO,QAAQD,mBAAmB,KAAK,IAAI,KAAK,IAAIA,eAAeE,IAAI,CAAClB,OAAOe;QAC7G,IAAI,CAACA,GAAGI,gBAAgB,EAAE;YACtBjB,qBAAqB,QAAQA,qBAAqB,KAAK,IAAI,KAAK,IAAIA,iBAAiBa,IAAI;gBACrFH;YACJ;QACJ;IACJ;IACA,MAAMQ,mBAAmBN,IAAAA,gCAAgB,EAAC,CAACC;QACvC,IAAIM;QACJrB,UAAU,QAAQA,UAAU,KAAK,IAAI,KAAK,IAAI,AAACqB,CAAAA,mBAAmBrB,MAAMsB,SAAS,AAAD,MAAO,QAAQD,qBAAqB,KAAK,IAAI,KAAK,IAAIA,iBAAiBH,IAAI,CAAClB,OAAOe;QACnK,IAAI,CAACA,GAAGI,gBAAgB,IAAKJ,CAAAA,GAAGQ,GAAG,KAAKC,oBAAM,IAAIT,GAAGQ,GAAG,KAAKE,uBAAS,AAAD,GAAI;YACrEvB,qBAAqB,QAAQA,qBAAqB,KAAK,IAAI,KAAK,IAAIA,iBAAiBa,IAAI;gBACrFH;YACJ;QACJ;IACJ;IACA,MAAMc,cAAchB,cAAc,WAAW;IAC7C,OAAO;QACHF;QACAmB,aAAa9B,iBAAiB,CAACc,MAAM;QACrCiB,YAAYlC,gBAAgB,CAACS,KAAK;QAClCM;QACAC;QACAC;QACAR;QACA0B,YAAY;YACRC,MAAMJ;YACNK,OAAO;YACPC,MAAM;YACNC,aAAa;YACbC,eAAe;YACfC,aAAa;QACjB;QACAL,MAAMM,oBAAI,CAACC,MAAM,CAACC,IAAAA,wCAAwB,EAACZ,aAAa;YACpDzB;YACA,GAAGD,KAAK;YACRM;YACA,GAAGI,eAAe;gBACdO,SAASJ;gBACTS,WAAWF;YACf,CAAC;QACL,IAAI;YACAM;QACJ;QACAK,OAAOK,oBAAI,CAACG,QAAQ,CAACvC,MAAM+B,KAAK,EAAE;YAC9BL,aAAa;QACjB;QACAM,MAAMI,oBAAI,CAACG,QAAQ,CAACvC,MAAMgC,IAAI,EAAE;YAC5BN,aAAa;QACjB;QACAO,aAAaG,oBAAI,CAACG,QAAQ,CAACvC,MAAMiC,WAAW,EAAE;YAC1CO,iBAAiB;YACjBC,cAAc;gBACVC,UAAU1C,MAAM0C,QAAQ;YAC5B;YACAhB,aAAa;QACjB;QACAQ,eAAeE,oBAAI,CAACG,QAAQ,CAACvC,MAAMkC,aAAa,EAAE;YAC9CR,aAAa;QACjB;QACAS,aAAaC,oBAAI,CAACG,QAAQ,CAACvC,MAAMmC,WAAW,EAAE;YAC1CK,iBAAiB9B;YACjB+B,cAAc;gBACVC,UAAU,WAAW,GAAGC,OAAMC,aAAa,CAACC,0BAAc,EAAE;gBAC5DC,MAAM;YACV;YACApB,aAAa;QACjB;IACJ;AACJ"}