{"version":3,"sources":["useTab.js"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, mergeCallbacks, useEventCallback, useMergedRefs, slot } from '@fluentui/react-utilities';\nimport { useTabListContext_unstable } from '../TabList/TabListContext';\n/**\n * Create the state required to render Tab.\n *\n * The returned state can be modified with hooks such as useTabStyles_unstable,\n * before being passed to renderTab_unstable.\n *\n * @param props - props from this instance of Tab\n * @param ref - reference to root HTMLElement of Tab\n */ export const useTab_unstable = (props, ref)=>{\n    const { content, disabled: tabDisabled = false, icon, onClick, onFocus, value } = props;\n    const appearance = useTabListContext_unstable((ctx)=>ctx.appearance);\n    const reserveSelectedTabSpace = useTabListContext_unstable((ctx)=>ctx.reserveSelectedTabSpace);\n    const selectTabOnFocus = useTabListContext_unstable((ctx)=>ctx.selectTabOnFocus);\n    const listDisabled = useTabListContext_unstable((ctx)=>ctx.disabled);\n    const selected = useTabListContext_unstable((ctx)=>ctx.selectedValue === value);\n    const onRegister = useTabListContext_unstable((ctx)=>ctx.onRegister);\n    const onUnregister = useTabListContext_unstable((ctx)=>ctx.onUnregister);\n    const onSelect = useTabListContext_unstable((ctx)=>ctx.onSelect);\n    const size = useTabListContext_unstable((ctx)=>ctx.size);\n    const vertical = useTabListContext_unstable((ctx)=>!!ctx.vertical);\n    const disabled = listDisabled || tabDisabled;\n    const innerRef = React.useRef(null);\n    const onSelectCallback = (event)=>onSelect(event, {\n            value\n        });\n    const onTabClick = useEventCallback(mergeCallbacks(onClick, onSelectCallback));\n    const onTabFocus = useEventCallback(mergeCallbacks(onFocus, onSelectCallback));\n    React.useEffect(()=>{\n        onRegister({\n            value,\n            ref: innerRef\n        });\n        return ()=>{\n            onUnregister({\n                value,\n                ref: innerRef\n            });\n        };\n    }, [\n        onRegister,\n        onUnregister,\n        innerRef,\n        value\n    ]);\n    const iconSlot = slot.optional(icon, {\n        elementType: 'span'\n    });\n    const contentSlot = slot.always(content, {\n        defaultProps: {\n            children: props.children\n        },\n        elementType: 'span'\n    });\n    const iconOnly = Boolean((iconSlot === null || iconSlot === void 0 ? void 0 : iconSlot.children) && !contentSlot.children);\n    return {\n        components: {\n            root: 'button',\n            icon: 'span',\n            content: 'span',\n            contentReservedSpace: 'span'\n        },\n        root: slot.always(getIntrinsicElementProps('button', {\n            // FIXME:\n            // `ref` is wrongly assigned to be `HTMLElement` instead of `HTMLButtonElement`\n            // but since it would be a breaking change to fix it, we are casting ref to it's proper type\n            ref: useMergedRefs(ref, innerRef),\n            role: 'tab',\n            type: 'button',\n            // aria-selected undefined indicates it is not selectable\n            // according to https://www.w3.org/TR/wai-aria-1.1/#aria-selected\n            'aria-selected': disabled ? undefined : `${selected}`,\n            ...props,\n            disabled,\n            onClick: onTabClick,\n            onFocus: selectTabOnFocus ? onTabFocus : onFocus\n        }), {\n            elementType: 'button'\n        }),\n        icon: iconSlot,\n        iconOnly,\n        content: contentSlot,\n        contentReservedSpace: slot.optional(content, {\n            renderByDefault: !selected && !iconOnly && reserveSelectedTabSpace,\n            defaultProps: {\n                children: props.children\n            },\n            elementType: 'span'\n        }),\n        appearance,\n        disabled,\n        selected,\n        size,\n        value,\n        vertical\n    };\n};\n"],"names":["useTab_unstable","props","ref","content","disabled","tabDisabled","icon","onClick","onFocus","value","appearance","useTabListContext_unstable","ctx","reserveSelectedTabSpace","selectTabOnFocus","listDisabled","selected","selectedValue","onRegister","onUnregister","onSelect","size","vertical","innerRef","React","useRef","onSelectCallback","event","onTabClick","useEventCallback","mergeCallbacks","onTabFocus","useEffect","iconSlot","slot","optional","elementType","contentSlot","always","defaultProps","children","iconOnly","Boolean","components","root","contentReservedSpace","getIntrinsicElementProps","useMergedRefs","role","type","undefined","renderByDefault"],"mappings":"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"}