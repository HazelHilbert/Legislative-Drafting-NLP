{"version":3,"sources":["useTabList.js"],"sourcesContent":["import * as React from 'react';\nimport { useArrowNavigationGroup } from '@fluentui/react-tabster';\nimport { getIntrinsicElementProps, useControllableState, useEventCallback, useMergedRefs, slot } from '@fluentui/react-utilities';\n/**\n * Create the state required to render TabList.\n *\n * The returned state can be modified with hooks such as useTabListStyles_unstable,\n * before being passed to renderTabList_unstable.\n *\n * @param props - props from this instance of TabList\n * @param ref - reference to root HTMLElement of TabList\n */ export const useTabList_unstable = (props, ref)=>{\n    const { appearance = 'transparent', reserveSelectedTabSpace = true, disabled = false, onTabSelect, selectTabOnFocus = false, size = 'medium', vertical = false } = props;\n    const innerRef = React.useRef(null);\n    const focusAttributes = useArrowNavigationGroup({\n        circular: true,\n        axis: vertical ? 'vertical' : 'horizontal',\n        memorizeCurrent: true\n    });\n    const [selectedValue, setSelectedValue] = useControllableState({\n        state: props.selectedValue,\n        defaultState: props.defaultSelectedValue,\n        initialState: undefined\n    });\n    // considered usePrevious, but it is sensitive to re-renders\n    // this could cause the previous to move to current in the case where the tab list re-renders.\n    // these refs avoid getRegisteredTabs changing when selectedValue changes and causing\n    // renders for tabs that have not changed.\n    const currentSelectedValue = React.useRef(undefined);\n    const previousSelectedValue = React.useRef(undefined);\n    React.useEffect(()=>{\n        previousSelectedValue.current = currentSelectedValue.current;\n        currentSelectedValue.current = selectedValue;\n    }, [\n        selectedValue\n    ]);\n    const onSelect = useEventCallback((event, data)=>{\n        setSelectedValue(data.value);\n        onTabSelect === null || onTabSelect === void 0 ? void 0 : onTabSelect(event, data);\n    });\n    const registeredTabs = React.useRef({});\n    const onRegister = useEventCallback((data)=>{\n        registeredTabs.current[JSON.stringify(data.value)] = data;\n    });\n    const onUnregister = useEventCallback((data)=>{\n        delete registeredTabs.current[JSON.stringify(data.value)];\n    });\n    const getRegisteredTabs = React.useCallback(()=>{\n        return {\n            selectedValue: currentSelectedValue.current,\n            previousSelectedValue: previousSelectedValue.current,\n            registeredTabs: registeredTabs.current\n        };\n    }, []);\n    return {\n        components: {\n            root: 'div'\n        },\n        root: slot.always(getIntrinsicElementProps('div', {\n            // FIXME:\n            // `ref` is wrongly assigned to be `HTMLElement` instead of `HTMLDivElement`\n            // but since it would be a breaking change to fix it, we are casting ref to it's proper type\n            ref: useMergedRefs(ref, innerRef),\n            role: 'tablist',\n            'aria-orientation': vertical ? 'vertical' : 'horizontal',\n            ...focusAttributes,\n            ...props\n        }), {\n            elementType: 'div'\n        }),\n        appearance,\n        reserveSelectedTabSpace,\n        disabled,\n        selectTabOnFocus,\n        selectedValue,\n        size,\n        vertical,\n        onRegister,\n        onUnregister,\n        onSelect,\n        getRegisteredTabs\n    };\n};\n"],"names":["useTabList_unstable","props","ref","appearance","reserveSelectedTabSpace","disabled","onTabSelect","selectTabOnFocus","size","vertical","innerRef","React","useRef","focusAttributes","useArrowNavigationGroup","circular","axis","memorizeCurrent","selectedValue","setSelectedValue","useControllableState","state","defaultState","defaultSelectedValue","initialState","undefined","currentSelectedValue","previousSelectedValue","useEffect","current","onSelect","useEventCallback","event","data","value","registeredTabs","onRegister","JSON","stringify","onUnregister","getRegisteredTabs","useCallback","components","root","slot","always","getIntrinsicElementProps","useMergedRefs","role","elementType"],"mappings":";;;;+BAWiBA;;;eAAAA;;;;iEAXM;8BACiB;gCAC8D;AAS3F,MAAMA,sBAAsB,CAACC,OAAOC;IAC3C,MAAM,EAAEC,aAAa,aAAa,EAAEC,0BAA0B,IAAI,EAAEC,WAAW,KAAK,EAAEC,WAAW,EAAEC,mBAAmB,KAAK,EAAEC,OAAO,QAAQ,EAAEC,WAAW,KAAK,EAAE,GAAGR;IACnK,MAAMS,WAAWC,OAAMC,MAAM,CAAC;IAC9B,MAAMC,kBAAkBC,IAAAA,qCAAuB,EAAC;QAC5CC,UAAU;QACVC,MAAMP,WAAW,aAAa;QAC9BQ,iBAAiB;IACrB;IACA,MAAM,CAACC,eAAeC,iBAAiB,GAAGC,IAAAA,oCAAoB,EAAC;QAC3DC,OAAOpB,MAAMiB,aAAa;QAC1BI,cAAcrB,MAAMsB,oBAAoB;QACxCC,cAAcC;IAClB;IACA,4DAA4D;IAC5D,8FAA8F;IAC9F,qFAAqF;IACrF,0CAA0C;IAC1C,MAAMC,uBAAuBf,OAAMC,MAAM,CAACa;IAC1C,MAAME,wBAAwBhB,OAAMC,MAAM,CAACa;IAC3Cd,OAAMiB,SAAS,CAAC;QACZD,sBAAsBE,OAAO,GAAGH,qBAAqBG,OAAO;QAC5DH,qBAAqBG,OAAO,GAAGX;IACnC,GAAG;QACCA;KACH;IACD,MAAMY,WAAWC,IAAAA,gCAAgB,EAAC,CAACC,OAAOC;QACtCd,iBAAiBc,KAAKC,KAAK;QAC3B5B,gBAAgB,QAAQA,gBAAgB,KAAK,IAAI,KAAK,IAAIA,YAAY0B,OAAOC;IACjF;IACA,MAAME,iBAAiBxB,OAAMC,MAAM,CAAC,CAAC;IACrC,MAAMwB,aAAaL,IAAAA,gCAAgB,EAAC,CAACE;QACjCE,eAAeN,OAAO,CAACQ,KAAKC,SAAS,CAACL,KAAKC,KAAK,EAAE,GAAGD;IACzD;IACA,MAAMM,eAAeR,IAAAA,gCAAgB,EAAC,CAACE;QACnC,OAAOE,eAAeN,OAAO,CAACQ,KAAKC,SAAS,CAACL,KAAKC,KAAK,EAAE;IAC7D;IACA,MAAMM,oBAAoB7B,OAAM8B,WAAW,CAAC;QACxC,OAAO;YACHvB,eAAeQ,qBAAqBG,OAAO;YAC3CF,uBAAuBA,sBAAsBE,OAAO;YACpDM,gBAAgBA,eAAeN,OAAO;QAC1C;IACJ,GAAG,EAAE;IACL,OAAO;QACHa,YAAY;YACRC,MAAM;QACV;QACAA,MAAMC,oBAAI,CAACC,MAAM,CAACC,IAAAA,wCAAwB,EAAC,OAAO;YAC9C,SAAS;YACT,4EAA4E;YAC5E,4FAA4F;YAC5F5C,KAAK6C,IAAAA,6BAAa,EAAC7C,KAAKQ;YACxBsC,MAAM;YACN,oBAAoBvC,WAAW,aAAa;YAC5C,GAAGI,eAAe;YAClB,GAAGZ,KAAK;QACZ,IAAI;YACAgD,aAAa;QACjB;QACA9C;QACAC;QACAC;QACAE;QACAW;QACAV;QACAC;QACA2B;QACAG;QACAT;QACAU;IACJ;AACJ"}