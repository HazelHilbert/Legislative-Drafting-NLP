{"version":3,"sources":["useToastAnnounce.js"],"sourcesContent":["import * as React from 'react';\nimport { isHTMLElement } from '@fluentui/react-utilities';\n/**\n * Wraps an aria live announcement function.\n * Aria live announcements can be detrimental once the user is already navigating\n * multiple toasts. Once the user is focused inside the toaster, the announecments should be disabled.\n * @param announce\n * @returns A function to announce a toast and a ref to attach to the toaster element\n */ export function useToastAnnounce(announce) {\n    const activeRef = React.useRef(true);\n    const cleanupRef = React.useRef(()=>undefined);\n    const announceToast = React.useCallback((message, options)=>{\n        if (activeRef.current) {\n            announce(message, options);\n        }\n    }, [\n        announce\n    ]);\n    const toasterRef = React.useCallback((el)=>{\n        if (!el) {\n            cleanupRef.current();\n            return;\n        }\n        const onFocusIn = (e)=>{\n            if (isHTMLElement(e.currentTarget) && e.currentTarget.contains(isHTMLElement(e.relatedTarget) ? e.relatedTarget : null)) {\n                return;\n            }\n            activeRef.current = false;\n        };\n        const onFocusOut = (e)=>{\n            if (isHTMLElement(e.currentTarget) && e.currentTarget.contains(isHTMLElement(e.relatedTarget) ? e.relatedTarget : null)) {\n                return;\n            }\n            activeRef.current = true;\n        };\n        el.addEventListener('focusin', onFocusIn);\n        el.addEventListener('focusout', onFocusOut);\n        cleanupRef.current = ()=>{\n            el.removeEventListener('focusin', onFocusIn);\n            el.removeEventListener('focusout', onFocusOut);\n        };\n    }, []);\n    return {\n        announceToast,\n        toasterRef\n    };\n}\n"],"names":["useToastAnnounce","announce","activeRef","React","useRef","cleanupRef","undefined","announceToast","useCallback","message","options","current","toasterRef","el","onFocusIn","e","isHTMLElement","currentTarget","contains","relatedTarget","onFocusOut","addEventListener","removeEventListener"],"mappings":";;;;+BAQoBA;;;eAAAA;;;;iEARG;gCACO;AAOnB,SAASA,iBAAiBC,QAAQ;IACzC,MAAMC,YAAYC,OAAMC,MAAM,CAAC;IAC/B,MAAMC,aAAaF,OAAMC,MAAM,CAAC,IAAIE;IACpC,MAAMC,gBAAgBJ,OAAMK,WAAW,CAAC,CAACC,SAASC;QAC9C,IAAIR,UAAUS,OAAO,EAAE;YACnBV,SAASQ,SAASC;QACtB;IACJ,GAAG;QACCT;KACH;IACD,MAAMW,aAAaT,OAAMK,WAAW,CAAC,CAACK;QAClC,IAAI,CAACA,IAAI;YACLR,WAAWM,OAAO;YAClB;QACJ;QACA,MAAMG,YAAY,CAACC;YACf,IAAIC,IAAAA,6BAAa,EAACD,EAAEE,aAAa,KAAKF,EAAEE,aAAa,CAACC,QAAQ,CAACF,IAAAA,6BAAa,EAACD,EAAEI,aAAa,IAAIJ,EAAEI,aAAa,GAAG,OAAO;gBACrH;YACJ;YACAjB,UAAUS,OAAO,GAAG;QACxB;QACA,MAAMS,aAAa,CAACL;YAChB,IAAIC,IAAAA,6BAAa,EAACD,EAAEE,aAAa,KAAKF,EAAEE,aAAa,CAACC,QAAQ,CAACF,IAAAA,6BAAa,EAACD,EAAEI,aAAa,IAAIJ,EAAEI,aAAa,GAAG,OAAO;gBACrH;YACJ;YACAjB,UAAUS,OAAO,GAAG;QACxB;QACAE,GAAGQ,gBAAgB,CAAC,WAAWP;QAC/BD,GAAGQ,gBAAgB,CAAC,YAAYD;QAChCf,WAAWM,OAAO,GAAG;YACjBE,GAAGS,mBAAmB,CAAC,WAAWR;YAClCD,GAAGS,mBAAmB,CAAC,YAAYF;QACvC;IACJ,GAAG,EAAE;IACL,OAAO;QACHb;QACAK;IACJ;AACJ"}