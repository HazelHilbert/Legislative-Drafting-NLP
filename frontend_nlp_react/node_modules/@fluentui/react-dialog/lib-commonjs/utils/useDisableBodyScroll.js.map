{"version":3,"sources":["useDisableBodyScroll.js"],"sourcesContent":["import { useFluent_unstable } from '@fluentui/react-shared-contexts';\nimport { useCallback } from 'react';\nconst disableScrollElementProp = '__fluentDisableScrollElement';\n/**\n * hook that disables body scrolling through `overflow: hidden` CSS property\n */ export function useDisableBodyScroll() {\n    const { targetDocument } = useFluent_unstable();\n    return useCallback(()=>{\n        if (targetDocument) {\n            return disableScroll(targetDocument.body);\n        }\n    }, [\n        targetDocument\n    ]);\n}\n/**\n * disables scrolling from a given element through `overflow: hidden` CSS property\n * @param target - element to disable scrolling from\n * @returns a method for enabling scrolling again\n */ export function disableScroll(target) {\n    var _target_ownerDocument_defaultView;\n    const { clientWidth } = target.ownerDocument.documentElement;\n    var _target_ownerDocument_defaultView_innerWidth;\n    const innerWidth = (_target_ownerDocument_defaultView_innerWidth = (_target_ownerDocument_defaultView = target.ownerDocument.defaultView) === null || _target_ownerDocument_defaultView === void 0 ? void 0 : _target_ownerDocument_defaultView.innerWidth) !== null && _target_ownerDocument_defaultView_innerWidth !== void 0 ? _target_ownerDocument_defaultView_innerWidth : 0;\n    assertIsDisableScrollElement(target);\n    if (target[disableScrollElementProp].count === 0) {\n        target.style.overflow = 'hidden';\n        target.style.paddingRight = `${innerWidth - clientWidth}px`;\n    }\n    target[disableScrollElementProp].count++;\n    return ()=>{\n        target[disableScrollElementProp].count--;\n        if (target[disableScrollElementProp].count === 0) {\n            target.style.overflow = target[disableScrollElementProp].previousOverflowStyle;\n            target.style.paddingRight = target[disableScrollElementProp].previousPaddingRightStyle;\n        }\n    };\n}\nfunction assertIsDisableScrollElement(element) {\n    var _element, _disableScrollElementProp;\n    var _;\n    (_ = (_element = element)[_disableScrollElementProp = disableScrollElementProp]) !== null && _ !== void 0 ? _ : _element[_disableScrollElementProp] = {\n        count: 0,\n        previousOverflowStyle: element.style.overflow,\n        previousPaddingRightStyle: element.style.paddingRight\n    };\n}\n"],"names":["useDisableBodyScroll","disableScroll","disableScrollElementProp","targetDocument","useFluent_unstable","useCallback","body","target","_target_ownerDocument_defaultView","clientWidth","ownerDocument","documentElement","_target_ownerDocument_defaultView_innerWidth","innerWidth","defaultView","assertIsDisableScrollElement","count","style","overflow","paddingRight","previousOverflowStyle","previousPaddingRightStyle","element","_element","_disableScrollElementProp","_"],"mappings":";;;;;;;;;;;IAKoBA,oBAAoB;eAApBA;;IAcAC,aAAa;eAAbA;;;qCAnBe;uBACP;AAC5B,MAAMC,2BAA2B;AAGtB,SAASF;IAChB,MAAM,EAAEG,cAAc,EAAE,GAAGC,IAAAA,uCAAkB;IAC7C,OAAOC,IAAAA,kBAAW,EAAC;QACf,IAAIF,gBAAgB;YAChB,OAAOF,cAAcE,eAAeG,IAAI;QAC5C;IACJ,GAAG;QACCH;KACH;AACL;AAKW,SAASF,cAAcM,MAAM;IACpC,IAAIC;IACJ,MAAM,EAAEC,WAAW,EAAE,GAAGF,OAAOG,aAAa,CAACC,eAAe;IAC5D,IAAIC;IACJ,MAAMC,aAAa,AAACD,CAAAA,+CAA+C,AAACJ,CAAAA,oCAAoCD,OAAOG,aAAa,CAACI,WAAW,AAAD,MAAO,QAAQN,sCAAsC,KAAK,IAAI,KAAK,IAAIA,kCAAkCK,UAAU,AAAD,MAAO,QAAQD,iDAAiD,KAAK,IAAIA,+CAA+C;IACjXG,6BAA6BR;IAC7B,IAAIA,MAAM,CAACL,yBAAyB,CAACc,KAAK,KAAK,GAAG;QAC9CT,OAAOU,KAAK,CAACC,QAAQ,GAAG;QACxBX,OAAOU,KAAK,CAACE,YAAY,GAAG,CAAC,EAAEN,aAAaJ,YAAY,EAAE,CAAC;IAC/D;IACAF,MAAM,CAACL,yBAAyB,CAACc,KAAK;IACtC,OAAO;QACHT,MAAM,CAACL,yBAAyB,CAACc,KAAK;QACtC,IAAIT,MAAM,CAACL,yBAAyB,CAACc,KAAK,KAAK,GAAG;YAC9CT,OAAOU,KAAK,CAACC,QAAQ,GAAGX,MAAM,CAACL,yBAAyB,CAACkB,qBAAqB;YAC9Eb,OAAOU,KAAK,CAACE,YAAY,GAAGZ,MAAM,CAACL,yBAAyB,CAACmB,yBAAyB;QAC1F;IACJ;AACJ;AACA,SAASN,6BAA6BO,OAAO;IACzC,IAAIC,UAAUC;IACd,IAAIC;IACHA,CAAAA,IAAI,AAACF,CAAAA,WAAWD,OAAM,CAAE,CAACE,4BAA4BtB,yBAAyB,AAAD,MAAO,QAAQuB,MAAM,KAAK,IAAIA,IAAIF,QAAQ,CAACC,0BAA0B,GAAG;QAClJR,OAAO;QACPI,uBAAuBE,QAAQL,KAAK,CAACC,QAAQ;QAC7CG,2BAA2BC,QAAQL,KAAK,CAACE,YAAY;IACzD;AACJ"}