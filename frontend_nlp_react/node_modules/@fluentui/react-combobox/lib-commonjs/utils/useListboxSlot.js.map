{"version":3,"sources":["useListboxSlot.js"],"sourcesContent":["import * as React from 'react';\nimport { mergeCallbacks, useId, useEventCallback, slot, isResolvedShorthand, useMergedRefs } from '@fluentui/react-utilities';\nimport { Listbox } from '../Listbox';\n/**\n * @returns  listbox slot with desired behaviour and props\n */ export function useListboxSlot(listboxSlotFromProp, ref, options) {\n    const { state: { multiselect }, triggerRef, defaultProps } = options;\n    const listboxId = useId('fluent-listbox', isResolvedShorthand(listboxSlotFromProp) ? listboxSlotFromProp.id : undefined);\n    const listboxSlot = slot.optional(listboxSlotFromProp, {\n        renderByDefault: true,\n        elementType: Listbox,\n        defaultProps: {\n            id: listboxId,\n            multiselect,\n            tabIndex: undefined,\n            ...defaultProps\n        }\n    });\n    /**\n   * Clicking on the listbox should never blur the trigger\n   * in a combobox\n   */ const onMouseDown = useEventCallback(mergeCallbacks((event)=>{\n        event.preventDefault();\n    }, listboxSlot === null || listboxSlot === void 0 ? void 0 : listboxSlot.onMouseDown));\n    const onClick = useEventCallback(mergeCallbacks((event)=>{\n        var _triggerRef_current;\n        event.preventDefault();\n        (_triggerRef_current = triggerRef.current) === null || _triggerRef_current === void 0 ? void 0 : _triggerRef_current.focus();\n    }, listboxSlot === null || listboxSlot === void 0 ? void 0 : listboxSlot.onClick));\n    const listboxRef = useMergedRefs(listboxSlot === null || listboxSlot === void 0 ? void 0 : listboxSlot.ref, ref);\n    if (listboxSlot) {\n        listboxSlot.ref = listboxRef;\n        listboxSlot.onMouseDown = onMouseDown;\n        listboxSlot.onClick = onClick;\n    }\n    return listboxSlot;\n}\n"],"names":["useListboxSlot","listboxSlotFromProp","ref","options","state","multiselect","triggerRef","defaultProps","listboxId","useId","isResolvedShorthand","id","undefined","listboxSlot","slot","optional","renderByDefault","elementType","Listbox","tabIndex","onMouseDown","useEventCallback","mergeCallbacks","event","preventDefault","onClick","_triggerRef_current","current","focus","listboxRef","useMergedRefs"],"mappings":";;;;+BAKoBA;;;eAAAA;;;;iEALG;gCAC2E;yBAC1E;AAGb,SAASA,eAAeC,mBAAmB,EAAEC,GAAG,EAAEC,OAAO;IAChE,MAAM,EAAEC,OAAO,EAAEC,WAAW,EAAE,EAAEC,UAAU,EAAEC,YAAY,EAAE,GAAGJ;IAC7D,MAAMK,YAAYC,IAAAA,qBAAK,EAAC,kBAAkBC,IAAAA,mCAAmB,EAACT,uBAAuBA,oBAAoBU,EAAE,GAAGC;IAC9G,MAAMC,cAAcC,oBAAI,CAACC,QAAQ,CAACd,qBAAqB;QACnDe,iBAAiB;QACjBC,aAAaC,gBAAO;QACpBX,cAAc;YACVI,IAAIH;YACJH;YACAc,UAAUP;YACV,GAAGL,YAAY;QACnB;IACJ;IACA;;;GAGD,GAAG,MAAMa,cAAcC,IAAAA,gCAAgB,EAACC,IAAAA,8BAAc,EAAC,CAACC;QACnDA,MAAMC,cAAc;IACxB,GAAGX,gBAAgB,QAAQA,gBAAgB,KAAK,IAAI,KAAK,IAAIA,YAAYO,WAAW;IACpF,MAAMK,UAAUJ,IAAAA,gCAAgB,EAACC,IAAAA,8BAAc,EAAC,CAACC;QAC7C,IAAIG;QACJH,MAAMC,cAAc;QACnBE,CAAAA,sBAAsBpB,WAAWqB,OAAO,AAAD,MAAO,QAAQD,wBAAwB,KAAK,IAAI,KAAK,IAAIA,oBAAoBE,KAAK;IAC9H,GAAGf,gBAAgB,QAAQA,gBAAgB,KAAK,IAAI,KAAK,IAAIA,YAAYY,OAAO;IAChF,MAAMI,aAAaC,IAAAA,6BAAa,EAACjB,gBAAgB,QAAQA,gBAAgB,KAAK,IAAI,KAAK,IAAIA,YAAYX,GAAG,EAAEA;IAC5G,IAAIW,aAAa;QACbA,YAAYX,GAAG,GAAG2B;QAClBhB,YAAYO,WAAW,GAAGA;QAC1BP,YAAYY,OAAO,GAAGA;IAC1B;IACA,OAAOZ;AACX"}