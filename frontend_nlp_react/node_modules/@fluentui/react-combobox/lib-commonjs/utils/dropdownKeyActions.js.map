{"version":3,"sources":["dropdownKeyActions.js"],"sourcesContent":["import * as keys from '@fluentui/keyboard-keys';\nimport * as React from 'react';\n/**\n * Converts a keyboard interaction into a defined action\n */ export function getDropdownActionFromKey(e, options = {}) {\n    const { open = true, multiselect = false } = options;\n    const code = e.key;\n    const { altKey, ctrlKey, key, metaKey } = e;\n    // typing action occurs whether open or closed\n    if (key.length === 1 && code !== keys.Space && !altKey && !ctrlKey && !metaKey) {\n        return 'Type';\n    }\n    // handle opening the dropdown if closed\n    if (!open) {\n        if (code === keys.ArrowDown || code === keys.ArrowUp || code === keys.Enter || code === keys.Space) {\n            return 'Open';\n        }\n        // if the dropdown is closed and an action did not match the above, do nothing\n        return 'None';\n    }\n    // select or close actions\n    if (code === keys.ArrowUp && altKey || code === keys.Enter || !multiselect && code === keys.Space) {\n        return 'CloseSelect';\n    }\n    if (multiselect && code === keys.Space) {\n        return 'Select';\n    }\n    if (code === keys.Escape) {\n        return 'Close';\n    }\n    // navigation interactions\n    if (code === keys.ArrowDown) {\n        return 'Next';\n    }\n    if (code === keys.ArrowUp) {\n        return 'Previous';\n    }\n    if (code === keys.Home) {\n        return 'First';\n    }\n    if (code === keys.End) {\n        return 'Last';\n    }\n    if (code === keys.PageUp) {\n        return 'PageUp';\n    }\n    if (code === keys.PageDown) {\n        return 'PageDown';\n    }\n    if (code === keys.Tab) {\n        return 'Tab';\n    }\n    // if nothing matched, return none\n    return 'None';\n}\n/**\n * Returns the requested option index from an action\n */ export function getIndexFromAction(action, currentIndex, maxIndex) {\n    switch(action){\n        case 'Next':\n            return Math.min(maxIndex, currentIndex + 1);\n            break;\n        case 'Previous':\n            return Math.max(0, currentIndex - 1);\n        case 'First':\n            return 0;\n        case 'Last':\n            return maxIndex;\n        case 'PageDown':\n            return Math.min(maxIndex, currentIndex + 10);\n        case 'PageUp':\n            return Math.max(0, currentIndex - 10);\n        default:\n            return currentIndex;\n    }\n}\n"],"names":["getDropdownActionFromKey","getIndexFromAction","e","options","open","multiselect","code","key","altKey","ctrlKey","metaKey","length","keys","Space","ArrowDown","ArrowUp","Enter","Escape","Home","End","PageUp","PageDown","Tab","action","currentIndex","maxIndex","Math","min","max"],"mappings":";;;;;;;;;;;IAIoBA,wBAAwB;eAAxBA;;IAqDAC,kBAAkB;eAAlBA;;;;wEAzDE;iEACC;AAGZ,SAASD,yBAAyBE,CAAC,EAAEC,UAAU,CAAC,CAAC;IACxD,MAAM,EAAEC,OAAO,IAAI,EAAEC,cAAc,KAAK,EAAE,GAAGF;IAC7C,MAAMG,OAAOJ,EAAEK,GAAG;IAClB,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAEF,GAAG,EAAEG,OAAO,EAAE,GAAGR;IAC1C,8CAA8C;IAC9C,IAAIK,IAAII,MAAM,KAAK,KAAKL,SAASM,cAAKC,KAAK,IAAI,CAACL,UAAU,CAACC,WAAW,CAACC,SAAS;QAC5E,OAAO;IACX;IACA,wCAAwC;IACxC,IAAI,CAACN,MAAM;QACP,IAAIE,SAASM,cAAKE,SAAS,IAAIR,SAASM,cAAKG,OAAO,IAAIT,SAASM,cAAKI,KAAK,IAAIV,SAASM,cAAKC,KAAK,EAAE;YAChG,OAAO;QACX;QACA,8EAA8E;QAC9E,OAAO;IACX;IACA,0BAA0B;IAC1B,IAAIP,SAASM,cAAKG,OAAO,IAAIP,UAAUF,SAASM,cAAKI,KAAK,IAAI,CAACX,eAAeC,SAASM,cAAKC,KAAK,EAAE;QAC/F,OAAO;IACX;IACA,IAAIR,eAAeC,SAASM,cAAKC,KAAK,EAAE;QACpC,OAAO;IACX;IACA,IAAIP,SAASM,cAAKK,MAAM,EAAE;QACtB,OAAO;IACX;IACA,0BAA0B;IAC1B,IAAIX,SAASM,cAAKE,SAAS,EAAE;QACzB,OAAO;IACX;IACA,IAAIR,SAASM,cAAKG,OAAO,EAAE;QACvB,OAAO;IACX;IACA,IAAIT,SAASM,cAAKM,IAAI,EAAE;QACpB,OAAO;IACX;IACA,IAAIZ,SAASM,cAAKO,GAAG,EAAE;QACnB,OAAO;IACX;IACA,IAAIb,SAASM,cAAKQ,MAAM,EAAE;QACtB,OAAO;IACX;IACA,IAAId,SAASM,cAAKS,QAAQ,EAAE;QACxB,OAAO;IACX;IACA,IAAIf,SAASM,cAAKU,GAAG,EAAE;QACnB,OAAO;IACX;IACA,kCAAkC;IAClC,OAAO;AACX;AAGW,SAASrB,mBAAmBsB,MAAM,EAAEC,YAAY,EAAEC,QAAQ;IACjE,OAAOF;QACH,KAAK;YACD,OAAOG,KAAKC,GAAG,CAACF,UAAUD,eAAe;YACzC;QACJ,KAAK;YACD,OAAOE,KAAKE,GAAG,CAAC,GAAGJ,eAAe;QACtC,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAOC;QACX,KAAK;YACD,OAAOC,KAAKC,GAAG,CAACF,UAAUD,eAAe;QAC7C,KAAK;YACD,OAAOE,KAAKE,GAAG,CAAC,GAAGJ,eAAe;QACtC;YACI,OAAOA;IACf;AACJ"}