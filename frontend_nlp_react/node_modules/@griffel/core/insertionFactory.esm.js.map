{"version":3,"file":"insertionFactory.esm.js","sources":["../../../packages/core/src/insertionFactory.ts"],"sourcesContent":["import type { CSSRulesByBucket, GriffelInsertionFactory, GriffelRenderer } from './types';\n\n/**\n * Default implementation of insertion factory. Inserts styles only once per renderer and performs\n * insertion immediately after styles computation.\n *\n * @internal\n */\nexport const insertionFactory: GriffelInsertionFactory = () => {\n  const insertionCache: Record<string, boolean> = {};\n\n  return function insertStyles(renderer: GriffelRenderer, cssRules: CSSRulesByBucket) {\n    if (insertionCache[renderer.id] === undefined) {\n      renderer.insertCSSRules(cssRules!);\n      insertionCache[renderer.id] = true;\n    }\n  };\n};\n"],"names":["insertionFactory","insertionCache","insertStyles","renderer","cssRules","id","undefined","insertCSSRules"],"mappings":"AAEA;;;;;;MAMaA,gBAAgB,GAA4BA;EACvD,MAAMC,cAAc,GAA4B,EAAE;EAElD,OAAO,SAASC,YAAYA,CAACC,QAAyB,EAAEC,QAA0B;IAChF,IAAIH,cAAc,CAACE,QAAQ,CAACE,EAAE,CAAC,KAAKC,SAAS,EAAE;MAC7CH,QAAQ,CAACI,cAAc,CAACH,QAAS,CAAC;MAClCH,cAAc,CAACE,QAAQ,CAACE,EAAE,CAAC,GAAG,IAAI;;GAErC;AACH;;;;"}