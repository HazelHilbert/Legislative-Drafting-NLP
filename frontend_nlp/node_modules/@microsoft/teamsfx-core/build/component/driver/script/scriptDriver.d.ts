/// <reference types="node" />
/**
 * @author huajiezhang <huajiezhang@microsoft.com>
 */
import { FxError, Result, LogProvider } from "@microsoft/teamsfx-api";
import { DriverContext } from "../interface/commonArgs";
import { ExecutionResult, StepDriver } from "../interface/stepDriver";
import { DotenvOutput } from "../../utils/envUtil";
import { ScriptExecutionError, ScriptTimeoutError } from "../../../error/script";
import child_process from "child_process";
interface ScriptDriverArgs {
    run: string;
    workingDirectory?: string;
    shell?: string;
    timeout?: number;
    redirectTo?: string;
}
export declare class ScriptDriver implements StepDriver {
    _run(typedArgs: ScriptDriverArgs, context: DriverContext): Promise<Result<Map<string, string>, FxError>>;
    execute(args: unknown, ctx: DriverContext): Promise<ExecutionResult>;
}
export declare const scriptDriver: ScriptDriver;
export declare function executeCommand(command: string, projectPath: string, logProvider: LogProvider, ui: DriverContext["ui"], workingDirectory?: string, env?: NodeJS.ProcessEnv, shell?: string, timeout?: number, redirectTo?: string): Promise<Result<[string, DotenvOutput], FxError>>;
export declare function getStderrHandler(logProvider: LogProvider, systemEncoding: string, stderrStrings: string[], dataHandler: (data: string) => void): (data: Buffer) => void;
export declare function bufferToString(data: Buffer, systemEncoding: string): string;
export declare function convertScriptErrorToFxError(error: child_process.ExecException, run: string): ScriptTimeoutError | ScriptExecutionError;
export declare function parseSetOutputCommand(stdout: string): DotenvOutput;
export declare function maskSecretValues(stdout: string): string;
export declare function capitalizeFirstLetter(raw: string): string;
export {};
//# sourceMappingURL=scriptDriver.d.ts.map