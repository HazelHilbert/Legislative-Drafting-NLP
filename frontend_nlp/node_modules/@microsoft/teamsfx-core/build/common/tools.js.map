{"version":3,"file":"tools.js","sourceRoot":"","sources":["../../src/common/tools.ts"],"names":[],"mappings":"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"}